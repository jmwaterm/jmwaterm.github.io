<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>{% if page.title == "Home" %}{{ site.title }} &middot; {{ site.tagline }}{% else %}{% if page.tag %}{{ site.data.tags[page.tag].name }}{% else %}{{ page.title }}{% endif %} &middot; {{ site.title }}{% endif %}</title>
  {% if page.description %}
  {% capture desc %}{{ page.description }}{:.message}{% endcapture %}
  <meta name="description" content="{{ desc | markdownify | strip_html | truncatewords: 50 }}">
  {% else %}{% if page.excerpt %}
  <meta name="description" content="{{ page.excerpt | strip_html }}">
  {% endif %}{% endif %}

  <!-- CSS -->
  {% if site.load_google_fonts %}
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family={{ site.load_google_fonts }}" type="text/css">
  {% endif %}
  {% if site.author.social %}
  <link rel="stylesheet" href="{{ site.baseurl }}/public/css/icons.css">
  {% endif %}
  <link rel="stylesheet" href="{{ site.baseurl }}/public/css/poole.css">
  <link rel="stylesheet" href="{{ site.baseurl }}/public/css/hyde.css">
  <link rel="stylesheet" href="{{ site.baseurl }}/public/css/jekyll-github.css">

  <link rel="canonical" href="{{ site.url }}{{ site.baseurl }}{{ page.url }}" />

  {% assign color = page.color %}

  {% unless color %}
    {% if page.tag %}
      {% assign tag = site.data.tags[page.tag] %}
      {% assign color = tag.color %}
    {% else %}
      {% if page.tags.size > 0 %}
        {% assign tag_name = page.tags[0] %}
        {% assign tag = site.data.tags[tag_name] %}
        {% assign color = tag.color %}
      {% endif %}
    {% endif %}
  {% endunless %}

  {% unless color %}
    {% assign color = site.color %}
  {% endunless %}

  <style>
    html {
      font-family: {{ site.font }};
    }
    .font-accent {
      font-family: {{ site.font_accent }};
    }
    .content a,
    .related-posts li a:hover {
      color: {{ color }};
    }
    ::selection {
      color: #fff;
      background: {{ color }};
    }
    ::-moz-selection {
      color: #fff;
      background: {{ color }};
    }
  </style>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{{ site.baseurl }}/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="{{ site.baseurl }}/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="{{ site.title }}" href="{{ site.baseurl }}/atom.xml">
</head>
